-- üìå Auto Appraise Script with Mutation Picker
-- ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

-- Services
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local LocalPlayer = Players.LocalPlayer

-- Variables
local selectedMutation = nil
local running = false

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "AutoAppraiseUI"
ScreenGui.Parent = game:GetService("CoreGui")

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 300, 0, 200)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -100)
MainFrame.BackgroundColor3 = Color3.fromRGB(200, 230, 255)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

-- Title
local Title = Instance.new("TextLabel")
Title.Text = "üêü Auto Appraise"
Title.Size = UDim2.new(1, 0, 0, 30)
Title.BackgroundColor3 = Color3.fromRGB(100, 180, 255)
Title.TextColor3 = Color3.new(1,1,1)
Title.Font = Enum.Font.SourceSansBold
Title.TextSize = 20
Title.Parent = MainFrame

-- Start/Stop Button
local StartBtn = Instance.new("TextButton")
StartBtn.Size = UDim2.new(0, 200, 0, 40)
StartBtn.Position = UDim2.new(0.5, -100, 0, 50)
StartBtn.Text = "Start"
StartBtn.BackgroundColor3 = Color3.fromRGB(100, 200, 100)
StartBtn.TextColor3 = Color3.new(1,1,1)
StartBtn.Font = Enum.Font.SourceSansBold
StartBtn.TextSize = 22
StartBtn.Parent = MainFrame

-- Mutation Button
local MutationBtn = Instance.new("TextButton")
MutationBtn.Size = UDim2.new(0, 200, 0, 40)
MutationBtn.Position = UDim2.new(0.5, -100, 0, 100)
MutationBtn.Text = "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Mutation"
MutationBtn.BackgroundColor3 = Color3.fromRGB(120, 120, 255)
MutationBtn.TextColor3 = Color3.new(1,1,1)
MutationBtn.Font = Enum.Font.SourceSansBold
MutationBtn.TextSize = 20
MutationBtn.Parent = MainFrame

-- Show selected Mutation
local MutationLabel = Instance.new("TextLabel")
MutationLabel.Size = UDim2.new(1, 0, 0, 40)
MutationLabel.Position = UDim2.new(0, 0, 0, 150)
MutationLabel.Text = "üîé Mutation: None"
MutationLabel.BackgroundTransparency = 1
MutationLabel.TextColor3 = Color3.new(0,0,0)
MutationLabel.Font = Enum.Font.SourceSans
MutationLabel.TextSize = 18
MutationLabel.Parent = MainFrame

-- Mutation Picker Window
local PickerFrame = Instance.new("Frame")
PickerFrame.Size = UDim2.new(0, 250, 0, 300)
PickerFrame.Position = UDim2.new(0.5, -125, 0.5, -150)
PickerFrame.BackgroundColor3 = Color3.fromRGB(240, 240, 255)
PickerFrame.Visible = false
PickerFrame.Active = true
PickerFrame.Draggable = true
PickerFrame.Parent = ScreenGui

local PickerTitle = Instance.new("TextLabel")
PickerTitle.Text = "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Mutation"
PickerTitle.Size = UDim2.new(1, 0, 0, 30)
PickerTitle.BackgroundColor3 = Color3.fromRGB(100, 150, 255)
PickerTitle.TextColor3 = Color3.new(1,1,1)
PickerTitle.Font = Enum.Font.SourceSansBold
PickerTitle.TextSize = 20
PickerTitle.Parent = PickerFrame

local Scrolling = Instance.new("ScrollingFrame")
Scrolling.Size = UDim2.new(1, -10, 1, -40)
Scrolling.Position = UDim2.new(0, 5, 0, 35)
Scrolling.CanvasSize = UDim2.new(0, 0, 2, 0)
Scrolling.BackgroundTransparency = 1
Scrolling.Parent = PickerFrame

local UIGrid = Instance.new("UIGridLayout")
UIGrid.CellSize = UDim2.new(0, 110, 0, 40)
UIGrid.CellPadding = UDim2.new(0, 5, 0, 5)
UIGrid.Parent = Scrolling

-- Mutation List
local mutations = {
    "Albino","Negative","Positive","Radioactive",
    "Golden","Crystal","Shadow","Glowing"
}

for _,name in ipairs(mutations) do
    local Btn = Instance.new("TextButton")
    Btn.Text = name
    Btn.BackgroundColor3 = Color3.fromRGB(180,180,255)
    Btn.TextColor3 = Color3.new(0,0,0)
    Btn.Font = Enum.Font.SourceSansBold
    Btn.TextSize = 18
    Btn.Parent = Scrolling

    Btn.MouseButton1Click:Connect(function()
        selectedMutation = name
        MutationLabel.Text = "üîé Mutation: " .. name
        PickerFrame.Visible = false
    end)
end

-- Toggle Picker
MutationBtn.MouseButton1Click:Connect(function()
    PickerFrame.Visible = not PickerFrame.Visible
end)

-- Toggle Start/Stop
StartBtn.MouseButton1Click:Connect(function()
    running = not running
    if running then
        StartBtn.Text = "Stop"
        StartBtn.BackgroundColor3 = Color3.fromRGB(200,80,80)
    else
        StartBtn.Text = "Start"
        StartBtn.BackgroundColor3 = Color3.fromRGB(100,200,100)
    end
end)

-- Function: Auto Loop
local function autoAppraise()
    while task.wait(2) do
        if running and selectedMutation then
            -- 1. ‡∏ñ‡∏∑‡∏≠‡∏õ‡∏•‡∏≤ slot 9
            local args = {
                [1] = Enum.UserInputType.Keyboard,
                [2] = Enum.KeyCode.Nine
            }
            game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.Nine, false, game)
            task.wait(0.5)

            -- 2. ‡∏Å‡∏î "Can you appraise this fish?"
            keypress(0x0D) -- Enter (‡πÉ‡∏ä‡πâ executor ‡∏ó‡∏µ‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö input ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)
            task.wait(0.5)

            -- 3. ‡∏Å‡∏î "Yes!"
            keypress(0x0D)
        end
    end
end

-- Mutation Detector
LocalPlayer.Chatted:Connect(function(msg)
    if running and selectedMutation and string.find(msg,"mutated with") then
        if string.find(msg, selectedMutation) then
            running = false
            StartBtn.Text = "Start"
            StartBtn.BackgroundColor3 = Color3.fromRGB(100,200,100)
            warn("‚úÖ ‡πÑ‡∏î‡πâ Mutation ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡πâ‡∏ß: "..selectedMutation)
        end
    end
end)

-- Start Auto Loop
task.spawn(autoAppraise)
