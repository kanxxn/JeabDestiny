--========================================================
-- üê• Jeab Hub | V.1  (Yellow UI + Mobile Drag + New Logic)
--========================================================
-- ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡πÑ‡∏°‡πà‡∏û‡∏∂‡πà‡∏á _G.UseTotem/_G.UseRod ‡∏≠‡∏µ‡∏Å‡∏ï‡πà‡∏≠‡πÑ‡∏õ ‡πÉ‡∏ä‡πâ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local RS = game:GetService("ReplicatedStorage")
local LP = Players.LocalPlayer

--========================
-- CONFIG
--========================
local NAME_SUNDIAL  = "Sundial Totem"
local NAME_AURORA   = "Aurora Totem"
local KEYWORD_ROD   = "Rod Of The Zenith"

--========================
-- STATE
--========================
local scyllaModeOn = false
local auroraModeOn = false
local debugOn = false

local scyllaActive = false
local cycleValue = nil            -- StringValue (Day/Night/Both) ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
local isDay = true                -- fallback ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ cycle
local lastLog = ""                -- ‡∏Å‡∏±‡∏ô log ‡∏£‡∏±‡∏ß ‡πÜ
local lastLogTime = 0

--========================
-- UTIL: Item/Equip
--========================
local function equipItem(keyword)
    local char = LP.Character or LP.CharacterAdded:Wait()
    local hum  = char:WaitForChild("Humanoid")

    -- ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ñ‡∏∑‡∏≠‡∏ñ‡∏π‡∏Å‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
    local tool = char:FindFirstChildOfClass("Tool")
    if tool and string.find(tool.Name, keyword) then
        return true
    end

    -- ‡∏´‡∏≤‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤
    local bp = LP:WaitForChild("Backpack")
    for _, t in ipairs(bp:GetChildren()) do
        if t:IsA("Tool") and string.find(t.Name, keyword) then
            hum:EquipTool(t)
            return true
        end
    end
    return false
end

local function useItem(namePart)
    local char = LP.Character or LP.CharacterAdded:Wait()
    local hum  = char:WaitForChild("Humanoid")

    -- ‡∏ñ‡πâ‡∏≤‡∏ñ‡∏∑‡∏≠‡∏ä‡∏¥‡πâ‡∏ô‡∏ô‡∏±‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏´‡πâ‡∏Å‡∏î‡πÉ‡∏ä‡πâ‡πÄ‡∏•‡∏¢
    local tool = char:FindFirstChildOfClass("Tool")
    if tool and string.find(tool.Name, namePart) then
        tool:Activate()
        return true
    end

    -- ‡∏´‡∏≤‡πÉ‡∏ô‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡πÅ‡∏•‡πâ‡∏ß equip + ‡πÉ‡∏ä‡πâ
    local bp = LP:WaitForChild("Backpack")
    for _, t in ipairs(bp:GetChildren()) do
        if t:IsA("Tool") and string.find(t.Name, namePart) then
            hum:EquipTool(t)
            task.wait()
            t:Activate()
            return true
        end
    end
    return false
end

--========================
-- UI: Base
--========================
local gui = Instance.new("ScreenGui")
gui.Name = "JeabHub"
gui.ResetOnSpawn = false
gui.Parent = LP:WaitForChild("PlayerGui")

-- ‡∏õ‡∏∏‡πà‡∏°‡πÇ‡∏•‡πÇ‡∏Å‡πâ üê• (‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î Hub) ‚Äî ‡πÄ‡∏™‡∏°‡∏≠‡πÄ‡∏´‡πá‡∏ô
local logoBtn = Instance.new("TextButton")
logoBtn.Parent = gui
logoBtn.Size = UDim2.new(0, 46, 0, 46)
logoBtn.Position = UDim2.new(0, 12, 0.5, -23)
logoBtn.Text = "üê•"
logoBtn.TextSize = 24
logoBtn.BackgroundTransparency = 1 -- ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÇ‡∏•‡πÇ‡∏Å‡πâ
logoBtn.AutoButtonColor = true
logoBtn.ZIndex = 50

-- ‡πÄ‡∏ü‡∏£‡∏°‡∏´‡∏•‡∏±‡∏Å (‡∏•‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏∞‡∏ö‡∏ö custom ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠)
local main = Instance.new("Frame")
main.Parent = gui
main.Size = UDim2.new(0, 720, 0, 420)
main.Position = UDim2.new(0.5, -360, 0.48, -210)
main.BackgroundColor3 = Color3.fromRGB(255, 232, 180)
main.BorderSizePixel = 0
main.Active = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 14)

-- ‡πÄ‡∏á‡∏≤‡∏ö‡∏≤‡∏á ‡πÜ
local shadow = Instance.new("ImageLabel", main)
shadow.Name = "Shadow"
shadow.Image = "rbxassetid://5028857084"
shadow.ImageTransparency = 0.45
shadow.ScaleType = Enum.ScaleType.Slice
shadow.SliceCenter = Rect.new(24, 24, 276, 276)
shadow.Size = UDim2.new(1, 30, 1, 30)
shadow.Position = UDim2.new(0, -15, 0, -15)
shadow.BackgroundTransparency = 1
shadow.ZIndex = 0

-- Top Bar
local top = Instance.new("Frame", main)
top.Size = UDim2.new(1, 0, 0, 46)
top.BackgroundColor3 = Color3.fromRGB(255, 200, 120)
top.BorderSizePixel = 0
top.ZIndex = 2

local pad = Instance.new("UIPadding", top)
pad.PaddingLeft = UDim.new(0, 16)

local title = Instance.new("TextLabel", top)
title.Size = UDim2.new(1, -16, 1, 0)
title.BackgroundTransparency = 1
title.Text = "üê£  Jeab Hub | V.1"
title.TextXAlignment = Enum.TextXAlignment.Left
title.Font = Enum.Font.SourceSansBold
title.TextSize = 22
title.TextColor3 = Color3.fromRGB(90, 60, 20)
title.ZIndex = 2

-- ‡πÇ‡∏Ñ‡∏£‡∏á 3 ‡∏™‡πà‡∏ß‡∏ô
local left = Instance.new("Frame", main)         -- ‡∏´‡∏°‡∏ß‡∏î
left.Size = UDim2.new(0, 170, 1, -46)
left.Position = UDim2.new(0, 0, 0, 46)
left.BackgroundColor3 = Color3.fromRGB(255, 215, 150)
left.BorderSizePixel = 0
Instance.new("UIPadding", left).PaddingTop = UDim.new(0, 10)

local leftScroll = Instance.new("ScrollingFrame", left)
leftScroll.Size = UDim2.new(1, 0, 1, -10)
leftScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
leftScroll.BorderSizePixel = 0
leftScroll.BackgroundTransparency = 1
leftScroll.ScrollBarThickness = 6

local leftList = Instance.new("UIListLayout", leftScroll)
leftList.Padding = UDim.new(0, 8)
leftList.SortOrder = Enum.SortOrder.LayoutOrder
leftList:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	leftScroll.CanvasSize = UDim2.new(0,0,0,leftList.AbsoluteContentSize.Y + 8)
end)

local divider = Instance.new("Frame", main)
divider.Size = UDim2.new(0, 2, 1, -46)
divider.Position = UDim2.new(0, 170, 0, 46)
divider.BackgroundColor3 = Color3.fromRGB(190, 150, 90)
divider.BorderSizePixel = 0

local content = Instance.new("Frame", main)      -- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î
content.Size = UDim2.new(1, -172, 1, -46)
content.Position = UDim2.new(0, 172, 0, 46)
content.BackgroundColor3 = Color3.fromRGB(255, 240, 210)
content.BorderSizePixel = 0

--========================
-- UTIL: Mobile-friendly drag (custom)
--========================
local function makeDraggable(panel, dragHandle)
	dragHandle = dragHandle or panel
	local dragging, dragStart, startPos = false, nil, nil

	local function update(input)
		local delta = input.Position - dragStart
		panel.Position = UDim2.new(
			startPos.X.Scale, startPos.X.Offset + delta.X,
			startPos.Y.Scale, startPos.Y.Offset + delta.Y
		)
	end

	dragHandle.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1
		or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = panel.Position
			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)

	dragHandle.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseMovement
		or input.UserInputType == Enum.UserInputType.Touch then
			if dragging then update(input) end
		end
	end)
end

makeDraggable(main, top) -- ‡∏•‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà Top bar

-- ‡∏õ‡∏∏‡πà‡∏°‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î Hub
logoBtn.MouseButton1Click:Connect(function()
	main.Visible = not main.Visible
end)

--========================
-- DEBUG PANEL (‡∏•‡∏≤‡∏Å‡πÑ‡∏î‡πâ + ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô)
--========================
local dbg = Instance.new("Frame", gui)
dbg.Size = UDim2.new(0, 360, 0, 230)
dbg.Position = UDim2.new(0.62, 0, 0.18, 0)
dbg.BackgroundColor3 = Color3.fromRGB(255, 232, 190)
dbg.Visible = false
dbg.BorderSizePixel = 0
Instance.new("UICorner", dbg).CornerRadius = UDim.new(0, 12)
makeDraggable(dbg) -- ‡∏•‡∏≤‡∏Å‡∏Å‡∏£‡∏≠‡∏ö debug ‡πÑ‡∏î‡πâ

local dbgTop = Instance.new("Frame", dbg)
dbgTop.Size = UDim2.new(1, 0, 0, 36)
dbgTop.BackgroundColor3 = Color3.fromRGB(255, 206, 140)
dbgTop.BorderSizePixel = 0

local dbgTitle = Instance.new("TextLabel", dbgTop)
dbgTitle.Size = UDim2.new(1, -70, 1, 0)
dbgTitle.Position = UDim2.new(0, 10, 0, 0)
dbgTitle.BackgroundTransparency = 1
dbgTitle.Text = "üîé Scylla Debug Log"
dbgTitle.Font = Enum.Font.SourceSansBold
dbgTitle.TextSize = 18
dbgTitle.TextColor3 = Color3.fromRGB(90, 60, 20)
dbgTitle.TextXAlignment = Enum.TextXAlignment.Left

local copyBtn = Instance.new("TextButton", dbgTop)
copyBtn.Size = UDim2.new(0, 64, 0, 26)
copyBtn.Position = UDim2.new(1, -74, 0.5, -13)
copyBtn.Text = "Copy"
copyBtn.Font = Enum.Font.SourceSansBold
copyBtn.TextSize = 14
copyBtn.TextColor3 = Color3.new(1,1,1)
copyBtn.BackgroundColor3 = Color3.fromRGB(100, 180, 100)
Instance.new("UICorner", copyBtn).CornerRadius = UDim.new(0, 8)

local dbgScroll = Instance.new("ScrollingFrame", dbg)
dbgScroll.Size = UDim2.new(1, -10, 1, -44)
dbgScroll.Position = UDim2.new(0, 5, 0, 40)
dbgScroll.BackgroundTransparency = 1
dbgScroll.ScrollBarThickness = 6
dbgScroll.CanvasSize = UDim2.new(0,0,0,0)

local dbgList = Instance.new("UIListLayout", dbgScroll)
dbgList.SortOrder = Enum.SortOrder.LayoutOrder
dbgList.Padding = UDim.new(0, 2)
dbgList:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
	dbgScroll.CanvasSize = UDim2.new(0,0,0,dbgList.AbsoluteContentSize.Y + 6)
end)

local debugBuffer = {}
local MAX_LOG = 120

local function log(msg)
	-- ‡∏•‡∏î‡∏™‡πÅ‡∏õ‡∏°: ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ã‡πâ‡∏≥‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 1.5 ‡∏ß‡∏¥‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏û‡∏¥‡∏°‡∏û‡πå
	if msg == lastLog and (os.clock() - lastLogTime) < 1.5 then return end
	lastLog, lastLogTime = msg, os.clock()

	if not debugOn then return end
	table.insert(debugBuffer, msg)
	if #debugBuffer > MAX_LOG then
		table.remove(debugBuffer, 1)
		local first = dbgScroll:FindFirstChildWhichIsA("TextLabel")
		if first then first:Destroy() end
	end
	local line = Instance.new("TextLabel")
	line.Size = UDim2.new(1, -6, 0, 20)
	line.BackgroundTransparency = 1
	line.TextXAlignment = Enum.TextXAlignment.Left
	line.Font = Enum.Font.SourceSans
	line.TextSize = 16
	line.TextColor3 = Color3.fromRGB(70, 50, 30)
	line.Text = msg
	line.Parent = dbgScroll
	dbgScroll.CanvasPosition = Vector2.new(0, math.max(0, dbgScroll.AbsoluteCanvasSize.Y - dbgScroll.AbsoluteWindowSize.Y))
end

copyBtn.MouseButton1Click:Connect(function()
	if setclipboard then
		setclipboard(table.concat(debugBuffer, "\n"))
		log("‚úÖ Debug copied to clipboard.")
	else
		log("‚ùå setclipboard ‡πÉ‡∏ä‡πâ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ô Executor ‡∏ô‡∏µ‡πâ")
	end
end)

--========================
-- SIDEBAR (‡∏´‡∏°‡∏ß‡∏î‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÄ‡∏õ‡πä‡∏∞)
--========================
local function makeTabButton(text)
	local b = Instance.new("TextButton")
	b.Parent = leftScroll
	b.Size = UDim2.new(1, -20, 0, 36)
	b.Position = UDim2.new(0, 10, 0, 0)
	b.BackgroundColor3 = Color3.fromRGB(255, 226, 176)
	b.Text = text
	b.Font = Enum.Font.SourceSansBold
	b.TextSize = 18
	b.TextColor3 = Color3.fromRGB(90, 60, 20)
	b.AutoButtonColor = true
	Instance.new("UICorner", b).CornerRadius = UDim.new(0, 10)
	return b
end

local tabs = {
	"‡∏™‡∏Å‡∏≤‡∏¢‡∏•‡πà‡∏≤‡∏ö‡∏π‡∏ö‡∏π‡πâ",
	"‡πÄ‡∏°‡πá‡∏Å‡∏Å‡∏≤‡πÇ‡∏•‡∏î‡πâ‡∏ß‡∏ô",
	"‡∏ã‡∏±‡∏ô‡πÑ‡∏≠‡∏î‡∏≠",
	"‡∏´‡∏°‡∏∂‡∏Å‡∏¢‡πä‡∏≤‡∏Å‡∏´‡∏°‡∏∂‡∏Å‡∏õ‡∏µ‡∏®‡∏≤‡∏à",
}

local tabFrames = {}
for _, name in ipairs(tabs) do
	local btn = makeTabButton(name)
	local page = Instance.new("Frame", content)
	page.Size = UDim2.new(1, 0, 1, 0)
	page.BackgroundTransparency = 1
	page.Visible = false
	tabFrames[name] = page
	btn.MouseButton1Click:Connect(function()
		for _, f in pairs(tabFrames) do f.Visible = false end
		page.Visible = true
	end)
end

-- ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ó‡πá‡∏ö‡πÅ‡∏£‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°
tabFrames["‡∏™‡∏Å‡∏≤‡∏¢‡∏•‡πà‡∏≤‡∏ö‡∏π‡∏ö‡∏π‡πâ"].Visible = true

--========================
-- TAB: ‡∏™‡∏Å‡∏≤‡∏¢‡∏•‡πà‡∏≤‡∏ö‡∏π‡∏ö‡∏π‡πâ (‡πÅ‡∏¢‡∏Å‡∏õ‡∏∏‡πà‡∏° Scylla/Aurora + Debug)
--========================
local scPage = tabFrames["‡∏™‡∏Å‡∏≤‡∏¢‡∏•‡πà‡∏≤‡∏ö‡∏π‡∏ö‡∏π‡πâ"]

local note = Instance.new("TextLabel", scPage)
note.Position = UDim2.new(0, 24, 0, 10)
note.Size = UDim2.new(1, -48, 0, 28)
note.BackgroundTransparency = 1
note.Text = "‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Rod Of The Zenith"
note.Font = Enum.Font.SourceSansItalic
note.TextSize = 18
note.TextColor3 = Color3.fromRGB(100, 80, 40)
note.TextXAlignment = Enum.TextXAlignment.Left

local function makeModeButton(parent, text, color)
	local btn = Instance.new("TextButton", parent)
	btn.Size = UDim2.new(0, 360, 0, 54)
	btn.Position = UDim2.new(0, 24, 0, 56)
	btn.BackgroundColor3 = color
	btn.TextColor3 = Color3.new(1,1,1)
	btn.TextSize = 20
	btn.Font = Enum.Font.SourceSansBold
	btn.Text = text
	btn.AutoButtonColor = true
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 14)
	return btn
end

local scyllaBtn = makeModeButton(scPage, "‚öîÔ∏è Scylla Mode : OFF", Color3.fromRGB(55,55,55))
local auroraBtn = makeModeButton(scPage, "üåå Aurora Mode : OFF", Color3.fromRGB(55,140,70))
auroraBtn.Position = UDim2.new(0, 24, 0, 126)

local dbgBtn = Instance.new("TextButton", scPage)
dbgBtn.Size = UDim2.new(0, 220, 0, 40)
dbgBtn.Position = UDim2.new(0, 24, 0, 196)
dbgBtn.BackgroundColor3 = Color3.fromRGB(170, 120, 70)
dbgBtn.Text = "Debug: OFF"
dbgBtn.TextColor3 = Color3.new(1,1,1)
dbgBtn.TextSize = 18
dbgBtn.Font = Enum.Font.SourceSansBold
Instance.new("UICorner", dbgBtn).CornerRadius = UDim.new(0, 12)

-- ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î
scyllaBtn.MouseButton1Click:Connect(function()
	scyllaModeOn = not scyllaModeOn
	if scyllaModeOn then
		auroraModeOn = false
		auroraBtn.Text = "üåå Aurora Mode : OFF"
		auroraBtn.BackgroundColor3 = Color3.fromRGB(55,140,70)

		scyllaBtn.Text = "‚öîÔ∏è Scylla Mode : ON"
		scyllaBtn.BackgroundColor3 = Color3.fromRGB(80,180,60)
		log("‚ñ∂Ô∏è ‡πÄ‡∏õ‡∏¥‡∏î Scylla Mode")
	else
		scyllaBtn.Text = "‚öîÔ∏è Scylla Mode : OFF"
		scyllaBtn.BackgroundColor3 = Color3.fromRGB(55,55,55)
		log("‚èπ ‡∏õ‡∏¥‡∏î Scylla Mode")
	end
end)

auroraBtn.MouseButton1Click:Connect(function()
	auroraModeOn = not auroraModeOn
	if auroraModeOn then
		scyllaModeOn = false
		scyllaBtn.Text = "‚öîÔ∏è Scylla Mode : OFF"
		scyllaBtn.BackgroundColor3 = Color3.fromRGB(55,55,55)

		auroraBtn.Text = "üåå Aurora Mode : ON"
		auroraBtn.BackgroundColor3 = Color3.fromRGB(80,180,60)
		log("‚ñ∂Ô∏è ‡πÄ‡∏õ‡∏¥‡∏î Aurora Mode")
	else
		auroraBtn.Text = "üåå Aurora Mode : OFF"
		auroraBtn.BackgroundColor3 = Color3.fromRGB(55,140,70)
		log("‚èπ ‡∏õ‡∏¥‡∏î Aurora Mode")
	end
end)

dbgBtn.MouseButton1Click:Connect(function()
	debugOn = not debugOn
	dbg.Visible = debugOn
	dbgBtn.Text = debugOn and "Debug: ON" or "Debug: OFF"
end)

--========================
-- DETECT SCYLLA + TIME
--========================
-- ‡∏ï‡∏£‡∏ß‡∏à Scylla ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
local function scanScylla()
	scyllaActive = false
	for _, d in ipairs(workspace:GetDescendants()) do
		if string.find(string.lower(d.Name), "scylla") then
			scyllaActive = true
			break
		end
	end
end
scanScylla()

-- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÉ‡∏ô workspace
workspace.DescendantAdded:Connect(function(obj)
	if string.find(string.lower(obj.Name), "scylla") then
		scyllaActive = true
		log("üëÄ ‡∏û‡∏ö Scylla")
	end
end)

workspace.DescendantRemoving:Connect(function(obj)
	if string.find(string.lower(obj.Name), "scylla") then
		scyllaActive = false
		log("‚ùå Scylla ‡∏´‡∏≤‡∏¢‡πÑ‡∏õ")
	end
end)

-- ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏≤‡∏Å RS.cycle_weatherstimeofday (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
task.spawn(function()
	local ok, valObj = pcall(function() return RS:WaitForChild("cycle_weatherstimeofday", 5) end)
	if ok and valObj and valObj:IsA("StringValue") then
		cycleValue = valObj
		isDay = (cycleValue.Value == "Day")
		cycleValue.Changed:Connect(function(newVal)
			isDay = (newVal == "Day")
			log("‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô: ".. tostring(newVal))
		end)
	end
end)

local function isNightNow()
	if cycleValue then
		local v = cycleValue.Value
		return (v == "Night") or (v == "Both")  -- ‚ÄúBoth‚Äù ‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô
	end
	return not isDay
end

--========================
-- MAIN LOOP
--========================
task.spawn(function()
	while gui.Parent do
		-- SCYLLA MODE
		if scyllaModeOn then
			if not scyllaActive then
				useItem(NAME_SUNDIAL)
				log("üîÑ ‡πÑ‡∏°‡πà‡∏°‡∏µ Scylla ‚Üí ‡πÉ‡∏ä‡πâ Sundial")
			else
				equipItem(KEYWORD_ROD)
				log("üé£ ‡∏û‡∏ö Scylla ‚Üí ‡∏ñ‡∏∑‡∏≠ Rod")
				repeat task.wait(0.2) until (not scyllaModeOn) or (not scyllaActive)
			end
		end

		-- AURORA MODE (‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á)
		if auroraModeOn then
			if not scyllaActive then
				useItem(NAME_SUNDIAL)
				log("(Aurora) üîÑ ‡πÑ‡∏°‡πà‡∏°‡∏µ Scylla ‚Üí ‡πÉ‡∏ä‡πâ Sundial")
			else
				log("(Aurora) ‚è∏ ‡∏û‡∏ö Scylla ‚Üí ‡∏´‡∏¢‡∏∏‡∏î‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡∏ó‡∏≥ 15 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ")
				task.wait(15)

				if not isNightNow() then
					log("(Aurora) ‚òÄÔ∏è ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô ‚Üí ‡πÉ‡∏ä‡πâ Sundial 1 ‡∏£‡∏≠‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏•‡∏±‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô")
					useItem(NAME_SUNDIAL)
					-- ‡∏£‡∏≠‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô (‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏∏‡∏Å 0.5 ‡∏ß‡∏¥ ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 20 ‡∏ß‡∏¥)
					local t = os.clock()
					repeat task.wait(0.5) until isNightNow() or (os.clock() - t) > 20
					if isNightNow() then
						log("(Aurora) üåô ‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡πÉ‡∏ä‡πâ Aurora Totem + ‡∏ñ‡∏∑‡∏≠ Rod")
						useItem(NAME_AURORA)
						equipItem(KEYWORD_ROD)
					else
						log("(Aurora) ‚ö†Ô∏è ‡∏£‡∏≠‡∏Ñ‡∏£‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô")
					end
				else
					log("(Aurora) üåô ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß ‚Üí ‡πÉ‡∏ä‡πâ Aurora Totem + ‡∏ñ‡∏∑‡∏≠ Rod")
					useItem(NAME_AURORA)
					equipItem(KEYWORD_ROD)
				end

				repeat task.wait(0.2) until (not auroraModeOn) or (not scyllaActive)
			end
		end

		task.wait(0.5)
	end
end)

--========================================================
-- ‡∏´‡∏°‡∏ß‡∏î‡∏≠‡∏∑‡πà‡∏ô (placeholder ‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ó‡∏¢‡πÄ‡∏õ‡πä‡∏∞‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏Ç‡∏≠)
--========================================================
local function simpleLabel(p, txt)
	local l = Instance.new("TextLabel", p)
	l.Size = UDim2.new(1, -48, 1, -20)
	l.Position = UDim2.new(0, 24, 0, 10)
	l.BackgroundTransparency = 1
	l.Text = txt
	l.TextXAlignment = Enum.TextXAlignment.Left
	l.Font = Enum.Font.SourceSansBold
	l.TextSize = 20
	l.TextColor3 = Color3.fromRGB(120, 90, 40)
end

simpleLabel(tabFrames["‡πÄ‡∏°‡πá‡∏Å‡∏Å‡∏≤‡πÇ‡∏•‡∏î‡πâ‡∏ß‡∏ô"], "‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏°‡∏µ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï")
simpleLabel(tabFrames["‡∏ã‡∏±‡∏ô‡πÑ‡∏≠‡∏î‡∏≠"], "‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏°‡∏µ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï")
simpleLabel(tabFrames["‡∏´‡∏°‡∏∂‡∏Å‡∏¢‡πä‡∏≤‡∏Å‡∏´‡∏°‡∏∂‡∏Å‡∏õ‡∏µ‡∏®‡∏≤‡∏à"], "‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏°‡∏µ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï")
