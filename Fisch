--// Auto Scylla Hunt (Spam Sundial + GUI Centered)
--// Made By Jeab

local sundialName = "Sundial Totem"
local auroraName = "Aurora Totem"

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local isRunning = false
local scyllaActive = false

-- ใช้ไอเท็ม
local function useItem(itemName)
    local backpack = LocalPlayer.Backpack
    local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    local humanoid = char:WaitForChild("Humanoid")

    local tool = backpack:FindFirstChild(itemName)
    if tool then
        humanoid:EquipTool(tool)
        task.wait()
        tool:Activate()
        return true
    end
    return false
end

-- จับข้อความแชท
LocalPlayer.Chatted:Connect(function(msg)
    if string.find(msg, "Scylla Hunt has begun!") then
        scyllaActive = true
    elseif string.find(msg, "The Scylla got away") then
        scyllaActive = false
    end
end)

-- ลูปหลัก
local function mainLoop()
    while isRunning do
        if not scyllaActive then
            -- Spam Sundial แบบไม่มีดีเลย์
            useItem(sundialName)
        else
            warn("Scylla Spawned! ใช้ Aurora Totem หนึ่งครั้ง")
            useItem(auroraName)

            -- รอจน Event จบ
            repeat
                task.wait(0.5)
            until not isRunning or not scyllaActive

            warn("Scylla จบ → กลับไปกด Sundial ใหม่")
        end
        task.wait() -- กันเกมค้าง (รอ 1 frame)
    end
end

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

-- กรอบหลัก
local Frame = Instance.new("Frame")
Frame.Parent = ScreenGui
Frame.Size = UDim2.new(0,200,0,120)
Frame.Position = UDim2.new(0.05,0,0.2,0)
Frame.BackgroundColor3 = Color3.fromRGB(30,30,30)
Frame.Active = true
Frame.Draggable = true
Frame.BorderSizePixel = 2

-- ปุ่มเปิด/ปิด (ตรงกลาง)
local ToggleBtn = Instance.new("TextButton")
ToggleBtn.Parent = Frame
ToggleBtn.Size = UDim2.new(0,140,0,35)
ToggleBtn.Position = UDim2.new(0.5,-70,0,25) -- อยู่ตรงกลาง Frame
ToggleBtn.Text = "ปิดการทำงาน"
ToggleBtn.BackgroundColor3 = Color3.fromRGB(200,0,0)
ToggleBtn.TextColor3 = Color3.fromRGB(255,255,255)
ToggleBtn.Font = Enum.Font.SourceSansBold
ToggleBtn.TextSize = 18

-- ปุ่มปิดสคริปต์ (มุมขวาบนเล็กๆ)
local ExitBtn = Instance.new("TextButton")
ExitBtn.Parent = Frame
ExitBtn.Size = UDim2.new(0,60,0,25)
ExitBtn.Position = UDim2.new(1,-65,0,5)
ExitBtn.Text = "X"
ExitBtn.BackgroundColor3 = Color3.fromRGB(100,0,0)
ExitBtn.TextColor3 = Color3.fromRGB(255,255,255)
ExitBtn.Font = Enum.Font.SourceSansBold
ExitBtn.TextSize = 16

-- Label Made By Jeab
local MadeBy = Instance.new("TextLabel")
MadeBy.Parent = Frame
MadeBy.Size = UDim2.new(1,0,0,20)
MadeBy.Position = UDim2.new(0,0,1,-25)
MadeBy.BackgroundTransparency = 1
MadeBy.Text = "Made By Jeab"
MadeBy.TextColor3 = Color3.fromRGB(255,255,255)
MadeBy.Font = Enum.Font.SourceSansItalic
MadeBy.TextSize = 14

-- ฟังก์ชันปุ่ม
ToggleBtn.MouseButton1Click:Connect(function()
    isRunning = not isRunning
    if isRunning then
        ToggleBtn.Text = "เปิดการทำงาน"
        ToggleBtn.BackgroundColor3 = Color3.fromRGB(0,200,0)
        task.spawn(mainLoop)
    else
        ToggleBtn.Text = "ปิดการทำงาน"
        ToggleBtn.BackgroundColor3 = Color3.fromRGB(200,0,0)
    end
end)

ExitBtn.MouseButton1Click:Connect(function()
    isRunning = false
    ScreenGui:Destroy()
    warn("สคริปต์หยุดทำงานแล้ว")
end)
